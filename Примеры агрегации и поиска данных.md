### Поиск документов внутри между 3 арпеля 2023 и 3 июня 2023 в заголовке которых упоминается слово _"Украина"_ или слово _"США"_
``` json
GET topwar/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "datetime": {
              "gte": "2023-04-03T13:35",
              "lte": "2023-06-03T23:59"
            }
          }
        },
        {
          "bool": {
            "should": [
              {
                "match": {
                  "title": "Украина"
                }
              },
              {
                "match": {
                  "title": "США"
                }
              }
            ]
          }
        }
      ]
    }
  }
}
```
### Поиск документов которые с датой после 3 апреля 2023 года в которых упоминается и слово _"Украина"_ и слово _"США"_, отсортированные по времени
``` json
GET topwar/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "datetime": {
              "gte": "2023-05-03T13:35"
            }
          }
        },
        {
          "match": {
            "title": {
              "query": "Украина США",
              "operator": "and"
            }
          }
        }
      ]
    }
  },
  "sort": [
    {
      "datetime": {
        "order": "asc"
      }
    }
  ]
}
```
### Поиск документов в которых упоминаются слова _"Пригожин" "Бахмут" "Вагнер"_ в заголовке или тексте новости
``` json
GET topwar/_search
{
  "query": {
    "combined_fields": {
      "query" : "Пригожин Бахмут Вагнер",
      "fields": ["title", "text"],
      "operator": "and"
    }
  }
}
```
### Поиск документов в тексте которого присутствует фраза _"используют боеприпасы"_
``` json
GET topwar/_search
{
  "query": {
    "match_phrase": {
      "text": "используют боеприпасы"
    }
  }
}
```
### Пример поиска документов в которых в поле _`"text"`_ используется словосочетание _"Украина запросила"_ или _"США предоставила"_
``` json
GET topwar/_search
{
  "query": {
    "query_string": {
      "default_field": "text",
      "query": "(Украина) AND (запросила) OR (США предоставила)"
    }
  }
}
```
### Пример комбинации двух предыдущих запросов через оператор _ИЛИ_
``` json
GET topwar/_search
{
  "query": {
    "bool": {
      "should": [
        {
          "match_phrase": {
            "text": "используют боеприпасы"
          }
        },
        {
          "query_string": {
            "default_field": "title",
            "query": "(Военкор) AND (сообщил)"
          }
        }
      ]
    }
  }
}
```
### Пример агрегации по датам документов (статей) с периодом в месяц
``` json
GET topwar/_search
{
  "size": 0,
  "aggs": {
    "documents_by_month": {
      "date_histogram": {
        "field": "datetime",
        "calendar_interval": "month",
        "format": "yyyy-MM",
        "order": {
          "_key": "asc"
        }
      }
    }
  }
}
```
### Пример агрегации по датам с интервалом в день среди документов в заголовке или тексте которого упоминается слово _"ДРГ"_, а также документы в которых используется фраза _"Диверсионно-разведывательная группа"_
``` json
GET topwar/_search
{
  "size": 0,
  "aggs": {
    "mentions_over_time": {
      "date_histogram": {
        "field": "datetime",
        "calendar_interval": "day",
        "format": "yyyy-MM-dd",
        "order": {
          "_key": "asc"
        }
      },
      "aggs": {
        "mentions": {
          "filter": {
            "bool": {
              "should": [
                {
                  "query_string": {
                    "default_field": "text",
                    "query": "ДРГ OR  (Диверсионно-разведывательная группа)"
                  }
                },
                {
                  "match": {
                    "title": "ДРГ"
                  }
                }
              ]
            }
          }
        }
      }
    }
  }
}
```